@using ProjektWypozyczalnia.Models;
@using System.Linq


@{
    ViewData["Title"] = "Dostępne samochody";
}

<h1>Dostępne samochody</h1>

<div class="row">
    @foreach (var car in Model)

    {
        <div class="col-md-4">
            <div class="card mb-4 shadow-sm">
                <!-- Zdjęcie samochodu -->
                @* <img class="card-img-top" src="~/images/@car.Id.jpg" alt="Car Image" style="height: 200px; object-fit: cover;"> *@

                <div class="card-body">
                    <!-- Model samochodu -->
                    <h5 class="card-title">@car.Model.Name</h5>

                    <!-- Cena za dzień -->
                    <p class="card-text">Price per day: @car.Model.PricePerDay.ToString("C")</p>
                    
                    <!-- Typ samochodu -->
                    <p class="card-text">Type: @car.Type.Description</p>
                    <!-- Status samochodu -->
                    
                    @* @if (car.Reservations.Any())
                    {
                        <!-- Sprawdzamy, czy samochód ma rezerwację i wyświetlamy status pierwszej rezerwacji -->
                        <p class="card-text">Status: @car.Reservations.First().Status.Description</p>
                    }
                    else
                    {
                        <p class="card-text">Status: No status available</p>  <!-- W przypadku braku statusu -->
                    } *@
                    
                    <!-- Przyciski -->
                    <div class="d-flex justify-content-between align-items-center">

                        <a href="@Url.Action("Create", "Reservations", new { area = "User", carId = car.Id })" class="btn btn-primary">
                            Reserve
                            
                        </a>
                    </div>
                </div>
            </div>
        </div>
    }
    
</div>
